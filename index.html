<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Visor Estereosc√≥pico</title>

  <!-- ‚úÖ Librer√≠a p5.js -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>

  <style>
    body {
      margin: 0;
      background: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      font-family: sans-serif;
      overflow: hidden;
    }

    canvas {
      border: 1px solid #333;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      max-width: 95vw;
      max-height: 90vh;
    }

    .ui {
      margin-top: 10px;
      font-size: 14px;
      color: #444;
    }
  </style>
</head>

<body>

<div class="ui">
  Escena:
  <span id="sceneName">Cargando...</span>
</div>

<script>
  let img, depthMap;
  let disparitySlider;
  let sceneSelector;

  let currentScene = 0;
  let loading = true;

  // üìå Lista de escenas disponibles
  const scenes = [
    {
      name: "Escena 1",
      img: "imagenes/1_imagen.jpg",
      depth: "imagenes/1_profundidad.png"
    },
    {
      name: "Escena 2",
      img: "imagenes/2_imagen.jpg",
      depth: "imagenes/2_profundidad.png"
    }
  ];

  // ‚úÖ Precarga inicial
  function preload() {
    loadScene(0);
  }

  // ‚úÖ Cargar escena completa
  function loadScene(index) {
    loading = true;
    currentScene = index;

    img = loadImage(scenes[index].img, () => {
      depthMap = loadImage(scene
